<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imperium Smart Class - AI Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0f050a; color: #f8fafc; overflow-x: hidden; }
        .bg-maroon { background-color: #2D0A1E; }
        .text-gold { color: #eab308; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(12px); border: 1px solid rgba(234, 179, 8, 0.2); }
        .promo-flash { animation: flash 1s infinite alternate; }
        @keyframes flash { from { opacity: 1; } to { opacity: 0.5; } }
        @keyframes slide { from { transform: translateX(0); } to { transform: translateX(-50%); } }
        .animate-slide { display: flex; width: 200%; animation: slide 25s linear infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
            const [loading, setLoading] = useState(false);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [category, setCategory] = useState("TWK Kedinasan");
            const [drillData, setDrillData] = useState({
                question: "Siap Komandan! Sistem AI sudah aktif. Pilih kategori dan klik 'Bangkitkan Soal' untuk memulai latihan taktis.",
                options: ["Opsi A", "Opsi B", "Opsi C", "Opsi D", "Opsi E"],
                answer: 0,
                explanation: "Analisis strategi akan muncul di sini."
            });

            // API KEY MILIK NDAN SUDAH TERPASANG
            const API_KEY = "AIzaSyC9XY3pE0Hxnq5ZqI65i4DlDabcRMpbKaA"; 

            const generateSoal = async () => {
                setLoading(true);
                setSelectedAnswer(null);
                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: `Buatkan 1 soal HOTS seleksi masuk TNI/POLRI/Kedinasan kategori ${category} dalam Bahasa Indonesia. Harus naratif, sulit, dan menjebak. Berikan output dalam format JSON MURNI: {"question": "isi soal", "options": ["A", "B", "C", "D", "E"], "answer": 0, "explanation": "penjelasan logis"}.` }] }],
                            generationConfig: { responseMimeType: "application/json", temperature: 1.0 }
                        })
                    });
                    
                    const data = await response.json();
                    if (data.error) throw new Error(data.error.message);
                    
                    const textResponse = data.candidates[0].content.parts[0].text;
                    const cleanJson = JSON.parse(textResponse);
                    setDrillData(cleanJson);
                } catch (e) {
                    console.error(e);
                    alert("Koneksi Error Ndan! Pastikan internet stabil. Jika terus berulang, Google mungkin memblokir Key karena terdeteksi di publik. Gunakan secara lokal di Chrome dulu.");
                }
                setLoading(false);
            };

            useEffect(() => { if(window.lucide) lucide.createIcons(); }, [drillData, loading]);

            return (
                <div className="min-h-screen">
                    {/* RUNNING TEXT PROMO */}
                    <div className="bg-red-700 py-2 border-b border-white/20">
                        <div className="animate-slide whitespace-nowrap text-[10px] font-black uppercase tracking-[0.3em]">
                            {[...Array(5)].map((_, i) => (
                                <span key={i} className="mx-10">⚠️ PERINGATAN: BATCH 1 SISA 5 KURSI! — DISKON 50% KHUSUS PENDAFTAR MINGGU INI — ADMIN: 0851 8544 3185 — ⚠️</span>
                            ))}
                        </div>
                    </div>

                    {/* HEADER */}
                    <header className="py-12 px-4 text-center">
                        <div className="mb-4 inline-block px-3 py-1 bg-gold/10 border border-gold/50 rounded text-gold text-[10px] font-bold tracking-widest uppercase">
                            Imperium Smart Class AI Center
                        </div>
                        <h1 className="text-5xl md:text-7xl font-black text-white tracking-tighter mb-8 uppercase">
                            STRATEGI <span className="text-gold italic">TAKTIS</span>
                        </h1>
                        
                        <div className="inline-block glass p-6 rounded-[2rem] border-2 border-gold shadow-[0_0_40px_rgba(234,179,8,0.15)] transform hover:scale-105 transition-all">
                            <p className="text-slate-500 text-[10px] font-black uppercase mb-1">Investasi Masa Depan</p>
                            <div className="flex items-center justify-center gap-3">
                                <span className="text-slate-600 line-through text-lg font-bold">Rp 4.000k</span>
                                <span className="text-white text-5xl font-black italic">Rp 1.999k</span>
                            </div>
                            <div className="mt-4 px-6 py-2 bg-red-600 text-white text-xs font-black rounded-xl promo-flash">
                                DISKON 50% - KHUSUS BATCH 1
                            </div>
                        </div>
                    </header>

                    {/* AI INTERFACE */}
                    <main className="container mx-auto max-w-3xl px-4">
                        <div className="glass rounded-[2.5rem] overflow-hidden shadow-2xl">
                            <div className="p-6 bg-white/5 border-b border-white/10 flex flex-col md:flex-row gap-4">
                                <select 
                                    className="flex-1 bg-maroon border border-gold/30 rounded-2xl px-5 py-3 text-gold font-black text-xs outline-none focus:ring-2 ring-gold/50 transition-all"
                                    value={category}
                                    onChange={(e) => setCategory(e.target.value)}
                                >
                                    <option>TWK Kedinasan</option>
                                    <option>TIU Logika Analitis</option>
                                    <option>Psikotes Kecerdasan</option>
                                    <option>Mental Ideologi</option>
                                </select>
                                <button 
                                    onClick={generateSoal}
                                    disabled={loading}
                                    className="bg-gold hover:bg-white text-black font-black px-10 py-4 rounded-2xl text-xs uppercase transition-all flex items-center justify-center gap-2 active:scale-95"
                                >
                                    {loading ? <i data-lucide="refresh-cw" className="animate-spin" size="16"></i> : <i data-lucide="zap" size="16"></i>}
                                    {loading ? "MENGANALISIS..." : "BANGKITKAN SOAL"}
                                </button>
                            </div>

                            <div className="p-8 md:p-14 min-h-[400px]">
                                <div className="text-white text-xl md:text-2xl font-bold leading-relaxed mb-10 border-l-8 border-gold pl-8 italic">
                                    "{drillData.question}"
                                </div>
                                
                                <div className="grid gap-4">
                                    {drillData.options.map((opt, idx) => (
                                        <button 
                                            key={idx}
                                            onClick={() => setSelectedAnswer(idx)}
                                            className={`w-full text-left p-6 rounded-2xl border-2 text-sm font-bold transition-all transform hover:-translate-y-1 ${
                                                selectedAnswer === idx 
                                                ? (idx === drillData.answer ? 'border-green-500 bg-green-500/10 text-green-400' : 'border-red-500 bg-red-500/10 text-red-400') 
                                                : 'border-white/5 bg-white/5 text-slate-400 hover:border-gold/30 hover:bg-gold/5'
                                            }`}
                                        >
                                            <span className="inline-block w-8 text-gold font-black">{String.fromCharCode(65 + idx)}.</span> {opt}
                                        </button>
                                    ))}
                                </div>

                                {selectedAnswer !== null && (
                                    <div className="mt-10 p-8 bg-gold/5 border border-gold/20 rounded-3xl animate-in slide-in-from-bottom-5 duration-500">
                                        <div className="flex items-center gap-3 mb-4 text-gold font-black text-xs uppercase tracking-[0.2em]">
                                            <i data-lucide="shield-check" size="20"></i> Analisis Strategis
                                        </div>
                                        <p className="text-slate-300 text-sm leading-relaxed italic">{drillData.explanation}</p>
                                    </div>
                                )}
                            </div>
                        </div>
                    </main>

                    {/* CTA */}
                    <div className="text-center mt-16 pb-20 px-4">
                        <a href="https://wa.me/6285185443185" className="group bg-green-600 hover:bg-green-500 text-white px-12 py-5 rounded-3xl font-black uppercase text-sm transition-all inline-flex items-center gap-4 shadow-[0_15px_30px_rgba(22,163,74,0.3)]">
                            <i data-lucide="phone"></i> Ambil Slot Batch 1 Sekarang
                        </a>
                        <p className="mt-4 text-slate-500 text-[10px] font-bold uppercase tracking-widest">Wujudkan Impian Menjadi Abdi Negara Bersama Imperium</p>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
