<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Imperium Smart Class - Tactical Training Center</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
body { font-family: 'Inter', sans-serif; background-color: #1a0b14; color: #f8fafc; scroll-behavior: smooth; }
.bg-maroon { background-color: #2D0A1E; }
.text-gold { color: #eab308; }
.bg-gold { background-color: #eab308; }
.glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(234, 179, 8, 0.2); }
.marquee { overflow: hidden; white-space: nowrap; background: #eab308; color: #000; font-weight: 800; font-size: 11px; padding: 6px 0; z-index: 100; position: relative; }
.marquee-content { display: inline-block; animation: marquee 20s linear infinite; }
@keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
.live-dot { width: 8px; height: 8px; background: #ef4444; border-radius: 50%; display: inline-block; margin-right: 8px; animation: pulse-red 1.5s infinite; }
@keyframes pulse-red { 0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); } 100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }
.chat-window { height: 350px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; padding: 15px; background: rgba(0,0,0,0.7); }
.msg { max-width: 85%; padding: 10px 14px; border-radius: 18px; font-size: 12px; line-height: 1.5; }
.msg-ai { background: rgba(234, 179, 8, 0.15); border: 1px solid rgba(234, 179, 8, 0.3); align-self: flex-start; color: #fff; }
.msg-user { background: #eab308; color: #000; align-self: flex-end; font-weight: 700; border-bottom-right-radius: 4px; }
</style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useRef } = React;

function App() {
const [timeLeft, setTimeLeft] = useState({ d: 18, h: 20, m: 45, s: 0 });
const [isChatOpen, setIsChatOpen] = useState(false);
const [userInput, setUserInput] = useState('');
const [isTyping, setIsTyping] = useState(false);
const [messages, setMessages] = useState([
    { role: 'ai', text: 'Siap Komandan! Saya Tactical AI Imperium. Ada yang bisa saya bantu terkait pendaftaran atau paket belajar?' }
]);
const chatEndRef = useRef(null);

// PRIVATE API KEY - CLEANED
const GEMINI_KEY = "AIzaSyCEMLTIl-_SOflI5J5h5HWyV-TQpMVeU5M";

useEffect(() => {
    const timer = setInterval(() => {
        setTimeLeft(prev => {
            let { d, h, m, s } = prev;
            if (s > 0) s--;
            else { s = 59; if (m > 0) m--; else { m = 59; if (h > 0) h--; else { h = 23; d--; } } }
            return { d, h, m, s };
        });
    }, 1000);
    return () => clearInterval(timer);
}, []);

useEffect(() => { lucide.createIcons(); }, [isChatOpen]);
useEffect(() => { chatEndRef.current?.scrollIntoView({ behavior: "smooth" }); }, [messages]);

const callGeminiAI = async (prompt) => {
    try {
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_KEY}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                contents: [{ parts: [{ text: `Kamu adalah asisten profesional Imperium Smart Class di Batam. Gaya bicaramu tegas, disiplin, namun ramah. Panggil user dengan sebutan 'Komandan' atau 'Ndan'. Lokasi: Ruko Trade Center Blok J no 11, Batu Aji. Batch 1 Diskon 50%. Jika ditanya soal admin, berikan nomor WA 085185443185. Pertanyaan: ${prompt}` }] }]
            })
        });

        const data = await response.json();
        
        if (data.error) {
            console.error("API Error:", data.error.message);
            return "Lapor! Ada kendala pada sistem pusat. Mohon hubungi Admin via WhatsApp untuk informasi lebih lanjut.";
        }
        
        return data.candidates[0].content.parts[0].text;
    } catch (err) {
        console.error("Fetch Error:", err);
        return "Lapor! Sinyal taktis terganggu. Mohon coba lagi atau hubungi Admin.";
    }
};

const handleSend = async () => {
    if (!userInput.trim()) return;
    const newMsgs = [...messages, { role: 'user', text: userInput }];
    setMessages(newMsgs);
    setUserInput('');
    setIsTyping(true);

    const aiRes = await callGeminiAI(userInput);
    setMessages([...newMsgs, { role: 'ai', text: aiRes }]);
    setIsTyping(false);
};

return (
<div className="min-h-screen">
    {/* MARQUEE */}
    <div className="marquee">
        <div className="marquee-content uppercase tracking-[0.2em]">
            ⚡ PENDAFTARAN BATCH 1 ELITE SQUAD — DISKON 50% UNTUK 20 ORANG PERTAMA — HUBUNGI ADMIN SEKARANG! ⚡
        </div>
    </div>

    {/* NAVIGATION */}
    <nav className="sticky top-0 z-50 bg-[#1a0b14]/90 border-b border-white/5 py-4 backdrop-blur-md">
        <div className="container mx-auto px-4 flex justify-between items-center">
            <div>
                <div className="font-black text-2xl text-white tracking-tighter italic">IMPERIUM</div>
                <div className="text-[10px] text-gold font-bold tracking-[0.3em]">SMART CLASS</div>
            </div>
            <div className="hidden lg:flex gap-8 text-[10px] font-black uppercase tracking-widest text-slate-400">
                <a href="#program" className="hover:text-gold transition-colors">Program</a>
                <a href="#paket" className="hover:text-gold transition-colors">Paket Belajar</a>
                <a href="#keunggulan" className="hover:text-gold transition-colors">Keunggulan</a>
            </div>
            <a href="https://wa.me/6285185443185" className="bg-gold text-black px-6 py-2 rounded font-black text-[10px] uppercase shadow-lg shadow-gold/20">Daftar Sekarang</a>
        </div>
    </nav>

    {/* HERO SECTION */}
    <section className="pt-20 pb-16 text-center px-4 overflow-hidden">
        <div className="inline-flex items-center justify-center px-6 py-2 border border-gold/30 rounded-full text-gold bg-gold/5 mb-8">
            <span className="live-dot"></span>
            <p className="text-[10px] md:text-xs font-black uppercase tracking-[0.1em]">BIMBEL TNI/POLRI/KEDINASAN NO.1 DI BATAM</p>
        </div>
        <h1 className="text-5xl md:text-7xl font-black mb-8 text-white leading-tight uppercase tracking-tighter">
            TAKTIK JITU MENUJU <br/> <span className="text-gold">SERAGAM IMPIAN.</span>
        </h1>

        <div className="max-w-3xl mx-auto glass rounded-[2.5rem] p-8 md:p-12 border-white/10 shadow-2xl relative">
            <div className="bg-red-600 absolute -top-3 left-1/2 -translate-x-1/2 px-6 py-1 text-[10px] font-black uppercase text-white rounded-full tracking-widest">Penawaran Eksklusif</div>
            <div className="grid md:grid-cols-2 gap-8 items-center border-b border-white/5 pb-8 mb-8">
                <div className="text-center md:text-left">
                    <div className="text-5xl font-black text-white italic">DISKON <span className="text-gold">50%</span></div>
                    <p className="text-slate-400 text-xs font-bold uppercase mt-2">Pendaftar Pertama Batch 1</p>
                </div>
                <div className="grid grid-cols-4 gap-2">
                    {[ {v: timeLeft.d, l: "HR"}, {v: timeLeft.h, l: "JM"}, {v: timeLeft.m, l: "MN"}, {v: timeLeft.s, l: "DT"} ].map((t, i) => (
                        <div key={i} className="bg-white/5 p-3 rounded-2xl border border-white/5">
                            <div className="text-xl font-black text-white">{t.v}</div>
                            <div className="text-[8px] text-slate-500 font-black">{t.l}</div>
                        </div>
                    ))}
                </div>
            </div>
            <div className="flex flex-col md:flex-row gap-4">
                <a href="https://wa.me/6285185443185" className="flex-1 bg-gold text-black py-4 rounded-2xl font-black uppercase text-sm shadow-xl shadow-gold/20 flex items-center justify-center gap-2">
                    <i data-lucide="send" size="18"></i> Hubungi Admin Sekarang
                </a>
            </div>
        </div>
    </section>

    {/* FOOTER */}
    <footer className="bg-maroon py-16 border-t border-white/5 text-center px-4">
        <div className="font-black text-2xl text-white tracking-tighter mb-2 italic">IMPERIUM <span className="text-gold underline">2026</span></div>
        <p className="text-slate-600 text-[10px] tracking-[0.4em] uppercase font-bold mb-4">Batam - Kepulauan Riau</p>
        <div className="mb-8 space-y-1">
            <p className="text-[11px] font-bold text-slate-400">ADMIN 1: <span className="text-gold">0851-8544-3185</span></p>
            <p className="text-[11px] font-bold text-slate-400">ADMIN 2: <span className="text-gold">0859-6018-4775</span></p>
        </div>
        <div className="flex justify-center gap-6 text-slate-400">
            <a href="https://instagram.com/imperium.smartclass" className="hover:text-gold"><i data-lucide="instagram" size="20"></i></a>
            <a href="https://facebook.com/imperium.smartclass" className="hover:text-gold"><i data-lucide="facebook" size="20"></i></a>
            <a href="https://wa.me/6285185443185" className="hover:text-gold"><i data-lucide="message-circle" size="20"></i></a>
        </div>
    </footer>

    {/* TACTICAL LIVE CHAT AI */}
    <div className="fixed bottom-6 right-6 z-[100]">
        {isChatOpen ? (
            <div className="glass w-[320px] md:w-[380px] rounded-[2rem] border-2 border-gold shadow-2xl overflow-hidden flex flex-col animate-in slide-in-from-bottom-5">
                <div className="bg-gold p-4 flex justify-between items-center">
                    <div className="flex items-center gap-2">
                        <i data-lucide="shield-check" className="text-black" size="20"></i>
                        <span className="text-black font-black text-[10px] uppercase">Imperium Tactical AI</span>
                    </div>
                    <button onClick={() => setIsChatOpen(false)} className="text-black"><i data-lucide="x" size="20"></i></button>
                </div>
                
                <div className="chat-window">
                    {messages.map((m, i) => (
                        <div key={i} className={`msg ${m.role === 'ai' ? 'msg-ai' : 'msg-user'}`}>{m.text}</div>
                    ))}
                    {isTyping && <div className="text-[10px] text-gold italic px-4 animate-pulse font-black uppercase">AI Sedang Melapor...</div>}
                    <div ref={chatEndRef} />
                </div>

                <div className="p-4 bg-black/40 border-t border-white/5 flex gap-2">
                    <input 
                        type="text" 
                        value={userInput}
                        onChange={(e) => setUserInput(e.target.value)}
                        onKeyPress={(e) => e.key === 'Enter' && handleSend()}
                        placeholder="Ketik pesan, Ndan..."
                        className="flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-xs text-white focus:outline-none focus:border-gold"
                    />
                    <button onClick={handleSend} className="bg-gold text-black p-3 rounded-xl hover:scale-105 transition-transform">
                        <i data-lucide="send" size="18"></i>
                    </button>
                </div>
            </div>
        ) : (
            <button onClick={() => setIsChatOpen(true)} className="bg-gold text-black w-16 h-16 rounded-full flex items-center justify-center shadow-2xl hover:scale-110 transition-all border-4 border-[#1a0b14]">
                <i data-lucide="message-square" size="28"></i>
                <span className="absolute -top-1 -right-1 w-4 h-4 bg-red-600 rounded-full border-2 border-[#1a0b14] animate-pulse"></span>
            </button>
        )}
    </div>
</div>
);
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);
</script>
</body>
</html>
